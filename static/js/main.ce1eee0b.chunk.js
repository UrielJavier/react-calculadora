(this["webpackJsonpsnake-react"]=this["webpackJsonpsnake-react"]||[]).push([[0],{14:function(t,e,a){},8:function(t,e,a){t.exports=a(9)},9:function(t,e,a){"use strict";a.r(e);var r=a(1),s=a(2),o=a(4),i=a(3),n=a(5),u=a(0),c=a.n(u),l=a(7),h=a.n(l),d=(a(14),function(t){function e(){return Object(r.a)(this,e),Object(o.a)(this,Object(i.a)(e).apply(this,arguments))}return Object(n.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return c.a.createElement("div",{className:"pantallaOperaciones"+(0!=this.props.resultado?" show":"")},this.props.operacion)}}]),e}(c.a.Component)),p=function(t){function e(){return Object(r.a)(this,e),Object(o.a)(this,Object(i.a)(e).apply(this,arguments))}return Object(n.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return c.a.createElement("div",{className:"pantallaResultado"},this.props.resultado)}}]),e}(c.a.Component);function m(t){return c.a.createElement("button",{type:"button",onClick:t.onClick,id:t.id,className:"button "+t.tipo},t.id)}function f(t){var e=t.operaciones.map((function(e,a){return c.a.createElement("div",{id:"historico_"+a,className:"elementoHistorial",onClick:function(e){return t.goBack(e)}},e+" = "+t.resultados[a])}));return c.a.createElement("div",{className:"historico"},e)}var O=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).state={operacion:"",resultadoMostrar:0,resultadoIntermedio:0,historicoResultados:[],historicoOperacion:[],ultimoOperador:"",ultimoCaracter:"",ultimoNumero:"",operadores:[],numeros:[]},a}return Object(n.a)(e,t),Object(s.a)(e,[{key:"renderButton",value:function(t,e){var a=this,r=void 0!==e&&!0===e?"operator":"number";return"="===t?r=r.concat(" equals"):"\xf7"===t&&(t="/"),c.a.createElement(m,{id:t,tipo:r,onClick:function(){return a.handleClick(t)}})}},{key:"handleClick",value:function(t){if(console.log(t),"C"!==t){if("="!==t||"="!==this.state.ultimoCaracter){if(""===this.state.operacion&&this.isOperator(t));else if(!this.isOperator(t)||this.isOperator(this.state.ultimoCaracter)&&"="!==this.state.ultimoCaracter){if(this.isOperator(this.state.ultimoCaracter)&&this.isOperator(t)&&"="!==this.state.ultimoCaracter)this.setState({operacion:this.state.operacion.replace(/.$/,t)}),this.changeOperator(t);else if(!this.isOperator(t)){console.log("se introduce parte de un numero");var e=this.state.ultimoNumero+t;if(this.setState({operacion:this.state.operacion+t}),this.setState({ultimoNumero:e}),this.state.numeros.length>0&&this.state.operadores.length>0&&!this.isOperator(t)&&"."!==t){var a=this.doOperation(this.state.resultadoIntermedio,e,this.state.operadores[this.state.operadores.length-1]);console.log(a),this.setState({ultimoResultado:a}),this.setState({resultadoMostrar:a})}}}else this.setState({operacion:this.state.operacion+t}),this.addNumber(),this.addOperator(t),"="===t&&this.resultadoFinal(),0!==this.state.resultadoMostrar&&this.setState({resultadoIntermedio:this.state.resultadoMostrar});1===this.state.numeros.length&&0===this.state.resultadoIntermedio&&this.setState({resultadoIntermedio:this.state.numeros[0]}),this.setState({ultimoCaracter:t})}}else this.resetCalculator()}},{key:"isOperator",value:function(t){return"+"===t||"-"===t||"/"===t||"x"===t||"="===t||"%"===t||"DEL"===t}},{key:"doOperation",value:function(t,e,a){switch(console.log(t+"  "+e+"  "+a),a){case"+":return parseFloat(t)+parseFloat(e);case"-":return parseFloat(t)-parseFloat(e);case"/":return parseFloat(t)/parseFloat(e);case"x":return parseFloat(t)*parseFloat(e);case"%":return parseFloat(t)/100*parseFloat(e)}}},{key:"resetCalculator",value:function(){this.setState({operacion:"",resultadoIntermedio:0,resultadoMostrar:0,ultimoOperador:"",ultimoCaracter:"",ultimoNumero:"",operadores:[],numeros:[],historicoOperacion:[],historicoResultados:[]})}},{key:"resultadoFinal",value:function(){var t=this.state.historicoOperacion;t.push(this.state.operacion);var e=this.state.historicoResultados;e.push(this.state.resultadoMostrar),this.setState({historicoOperacion:t,historicoResultados:e,operacion:this.state.resultadoMostrar,resultadoMostrar:0})}},{key:"addNumber",value:function(){var t=this.state.numeros;t.push(this.state.ultimoNumero),this.setState({numeros:t,ultimoNumero:""})}},{key:"addOperator",value:function(t){var e=this.state.operadores;e.push(t),this.setState({operadores:e,ultimoOperador:t})}},{key:"changeOperator",value:function(t){var e=this.state.operadores;e.pop(),e.push(t),this.setState({operadores:e,ultimoOperador:t})}},{key:"goBack",value:function(t){var e=t.target.id.substring(10);console.log(e),e>-1&&this.setState({historicoOperacion:this.state.historicoOperacion.filter((function(t,a){return a<=e})),historicoResultados:this.state.historicoResultados.filter((function(t,a){return a<=e})),operacion:this.state.historicoOperacion[e],resultadoMostrar:this.state.historicoResultados[e]})}},{key:"render",value:function(){return c.a.createElement("div",{className:"calculadora"},c.a.createElement("div",{className:"pantallas"},c.a.createElement(d,{operacion:this.state.operacion,resultado:this.state.resultadoMostrar}),c.a.createElement(p,{resultado:this.state.resultadoMostrar})),c.a.createElement("div",{className:"historicoContenedor"},c.a.createElement(f,{operaciones:this.state.historicoOperacion,resultados:this.state.historicoResultados,goBack:this.goBack.bind(this)}),c.a.createElement("div",{className:"espacioHistorico"})),c.a.createElement("div",{className:"teclado"},c.a.createElement("div",{className:"fila"},this.renderButton("C"),this.renderButton("%",!0),this.renderButton("\xf7",!0)),c.a.createElement("div",{className:"fila"},this.renderButton(7),this.renderButton(8),this.renderButton(9),this.renderButton("x",!0)),c.a.createElement("div",{className:"fila"},this.renderButton(4),this.renderButton(5),this.renderButton(6),this.renderButton("-",!0)),c.a.createElement("div",{className:"fila"},this.renderButton(1),this.renderButton(2),this.renderButton(3),this.renderButton("+",!0)),c.a.createElement("div",{className:"fila"},this.renderButton("."),this.renderButton(0),this.renderButton("=",!0))))}}]),e}(c.a.Component);h.a.render(c.a.createElement(O,null),document.getElementById("root"))}},[[8,1,2]]]);
//# sourceMappingURL=main.ce1eee0b.chunk.js.map
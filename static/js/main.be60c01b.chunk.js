(this["webpackJsonpsnake-react"]=this["webpackJsonpsnake-react"]||[]).push([[0],{14:function(t,e,a){},8:function(t,e,a){t.exports=a(9)},9:function(t,e,a){"use strict";a.r(e);var r=a(2),s=a(3),o=a(6),i=a(4),n=a(7),c=a(0),l=a.n(c),u=a(5),h=a.n(u),d=(a(14),function(t){var e=t.resultado,a=t.operacion;return l.a.createElement("div",{className:"pantallaOperaciones"+(0!=e?" show":"")},a)}),m=function(t){var e=t.resultado;return l.a.createElement("div",{className:"pantallaResultado"},e)},p=function(t){var e=t.onClick,a=t.tipo,r=t.id;return l.a.createElement("button",{type:"button",onClick:e,id:r,className:"button "+a},r)};function v(t){var e=t.operaciones.map((function(e,a){return l.a.createElement("div",{id:"historico_"+a,className:"elementoHistorial",onClick:function(e){return t.goBack(e)}},e+" = "+t.resultados[a])}));return l.a.createElement("div",{className:"historico"},e)}var f=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).state={operacion:"",resultadoMostrar:0,resultadoIntermedio:0,historicoResultados:[],historicoOperacion:[],ultimoOperador:"",ultimoCaracter:"",ultimoNumero:"",operadores:[],numeros:[]},a}return Object(n.a)(e,t),Object(s.a)(e,[{key:"renderButton",value:function(t,e){var a=this,r=!0===e?"operator":"number";return"="===t?r=r.concat(" equals"):"\xf7"===t&&(t="/"),l.a.createElement(p,{id:t,tipo:r,onClick:function(){return a.handleClick(t)}})}},{key:"handleClick",value:function(t){if(console.log(t),"C"!==t){if("="!==t||"="!==this.state.ultimoCaracter){if(""===this.state.operacion&&this.isOperator(t));else if(!this.isOperator(t)||this.isOperator(this.state.ultimoCaracter)&&"="!==this.state.ultimoCaracter){if(this.isOperator(this.state.ultimoCaracter)&&this.isOperator(t)&&"="!==this.state.ultimoCaracter)this.setState({operacion:this.state.operacion.replace(/.$/,t)}),this.changeOperator(t);else if(!this.isOperator(t)){var e=this.state.ultimoNumero+t;if(this.setState({operacion:this.state.operacion+t,ultimoNumero:e}),this.state.numeros.length>0&&this.state.operadores.length>0&&!this.isOperator(t)&&"."!==t){var a=this.doOperation(this.state.resultadoIntermedio,e,this.state.operadores[this.state.operadores.length-1]);this.setState({ultimoResultado:a,resultadoMostrar:a})}}}else this.setState({operacion:this.state.operacion+t}),this.addNumber(),this.addOperator(t),"="===t&&this.resultadoFinal(),0!==this.state.resultadoMostrar&&this.setState({resultadoIntermedio:this.state.resultadoMostrar});this.setState({ultimoCaracter:t})}}else this.resetCalculator()}},{key:"isOperator",value:function(t){return"+"===t||"-"===t||"/"===t||"x"===t||"="===t||"%"===t||"DEL"===t}},{key:"doOperation",value:function(t,e,a){switch(console.log(t+"  "+e+"  "+a),a){case"+":return parseFloat(t)+parseFloat(e);case"-":return parseFloat(t)-parseFloat(e);case"/":return parseFloat(t)/parseFloat(e);case"x":return parseFloat(t)*parseFloat(e);case"%":return parseFloat(t)/100*parseFloat(e)}}},{key:"resetCalculator",value:function(){this.setState({operacion:"",resultadoIntermedio:0,resultadoMostrar:0,ultimoOperador:"",ultimoCaracter:"",ultimoNumero:"",operadores:[],numeros:[],historicoOperacion:[],historicoResultados:[]})}},{key:"resultadoFinal",value:function(){var t=this.state.historicoOperacion.concat(this.state.operacion),e=this.state.historicoResultados.concat(this.state.resultadoMostrar);this.setState({historicoOperacion:t,historicoResultados:e,operacion:this.state.resultadoMostrar,resultadoMostrar:0})}},{key:"addNumber",value:function(){var t=this.state.numeros.concat(this.state.ultimoNumero);console.log(1===this.state.numeros.length),1===t.length&&0===this.state.resultadoIntermedio&&this.setState({resultadoIntermedio:t[0]}),this.setState({numeros:t,ultimoNumero:""})}},{key:"addOperator",value:function(t){var e=this.state.operadores.concat(t);this.setState({operadores:e,ultimoOperador:t})}},{key:"changeOperator",value:function(t){var e=this.state.operadores;e.slice(0,-1),e.concat(t),this.setState({operadores:e,ultimoOperador:t})}},{key:"goBack",value:function(t){var e=t.target.id.substring(10);console.log(e),e>-1&&this.setState({historicoOperacion:this.state.historicoOperacion.filter((function(t,a){return a<=e})),historicoResultados:this.state.historicoResultados.filter((function(t,a){return a<=e})),operacion:this.state.historicoOperacion[e],resultadoMostrar:this.state.historicoResultados[e]})}},{key:"render",value:function(){return l.a.createElement("div",{className:"calculadora"},l.a.createElement("div",{className:"pantallas"},l.a.createElement(d,{operacion:this.state.operacion,resultado:this.state.resultadoMostrar}),l.a.createElement(m,{resultado:this.state.resultadoMostrar})),l.a.createElement("div",{className:"historicoContenedor"},l.a.createElement(v,{operaciones:this.state.historicoOperacion,resultados:this.state.historicoResultados,goBack:this.goBack.bind(this)}),l.a.createElement("div",{className:"espacioHistorico"})),l.a.createElement("div",{className:"teclado"},l.a.createElement("div",{className:"fila"},this.renderButton("C"),this.renderButton("%",!0),this.renderButton("\xf7",!0)),l.a.createElement("div",{className:"fila"},this.renderButton(7),this.renderButton(8),this.renderButton(9),this.renderButton("x",!0)),l.a.createElement("div",{className:"fila"},this.renderButton(4),this.renderButton(5),this.renderButton(6),this.renderButton("-",!0)),l.a.createElement("div",{className:"fila"},this.renderButton(1),this.renderButton(2),this.renderButton(3),this.renderButton("+",!0)),l.a.createElement("div",{className:"fila"},this.renderButton("."),this.renderButton(0),this.renderButton("=",!0))))}}]),e}(l.a.Component);h.a.render(l.a.createElement(f,null),document.getElementById("root"))}},[[8,1,2]]]);
//# sourceMappingURL=main.be60c01b.chunk.js.map